{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\reena\\\\Desktop\\\\react\\\\zoho\\\\Project\\\\src\\\\Components\\\\Home\\\\topstories.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport ReactPaginate from 'react-paginate';\nimport './Main.css';\nimport { calculateTimeDifference } from './Utility';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Topstories = () => {\n  _s();\n\n  const url = 'https://hacker-news.firebaseio.com/v0';\n  const [topstories, settopstories] = useState([]);\n  const [loading, setloading] = useState(false);\n  const [error, seterror] = useState(null);\n  const [pagecount, setpagecount] = useState(1);\n  const [currentPage, setcurrentPage] = useState(0);\n\n  const handlePageChange = selectedObject => {\n    setcurrentPage(selectedObject.selected);\n    getStories();\n  };\n\n  const getStory = async id => {\n    try {\n      const story = await axios.get(`${url}/item/${id}.json`);\n      return story;\n    } catch (error) {\n      seterror(error);\n    }\n  };\n\n  const getStories = async () => {\n    setloading(true);\n\n    try {\n      const {\n        data: storyIds\n      } = await axios.get(`${url}/topstories.json`);\n      const stories = await Promise.all(storyIds.slice(0, 30).map(getStory));\n      settopstories(stories);\n    } catch (error) {\n      seterror(error);\n    }\n\n    setloading(false);\n  };\n\n  useEffect(() => {\n    getStories();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: loading ? /*#__PURE__*/_jsxDEV(ReactPaginate, {\n      pageCount: pagecount,\n      pageRange: 2,\n      marginPagesDisplayed: 2,\n      onPageChange: handlePageChange,\n      containerClassName: 'container',\n      previousLinkClassName: 'page',\n      breakClassName: 'page',\n      nextLinkClassName: 'page',\n      pageClassName: 'page',\n      disabledClassNae: 'disabled',\n      activeClassName: 'active'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Nothing to display\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 1\n  }, this);\n};\n\n_s(Topstories, \"sX0eBkubbsJZ9CxTapbC/Eaa8oo=\");\n\n_c = Topstories;\n\nvar _c;\n\n$RefreshReg$(_c, \"Topstories\");","map":{"version":3,"names":["React","useEffect","useState","axios","ReactPaginate","calculateTimeDifference","Topstories","url","topstories","settopstories","loading","setloading","error","seterror","pagecount","setpagecount","currentPage","setcurrentPage","handlePageChange","selectedObject","selected","getStories","getStory","id","story","get","data","storyIds","stories","Promise","all","slice","map"],"sources":["C:/Users/reena/Desktop/react/zoho/Project/src/Components/Home/topstories.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport axios from 'axios';\r\nimport ReactPaginate from 'react-paginate';\r\n\r\nimport './Main.css'\r\nimport { calculateTimeDifference } from './Utility';\r\n\r\n\r\n\r\nexport  const Topstories = () => {\r\n  const url = 'https://hacker-news.firebaseio.com/v0';\r\n\r\n  \r\n\r\n  const [topstories, settopstories]=useState([])\r\n  const [loading, setloading]=useState(false)\r\n  const [error,seterror]=useState(null);\r\n  const [pagecount, setpagecount]=useState(1)\r\n\r\n  const [currentPage, setcurrentPage] = useState(0);\r\n  const handlePageChange = (selectedObject) => {\r\n\t\tsetcurrentPage(selectedObject.selected);\r\n\t\tgetStories();\r\n\r\n  }\r\n\r\n const getStory = async (id) => {\r\n\r\n    \r\n  try {\r\n    const story = await axios.get(`${url}/item/${id}.json`);\r\n    return story;\r\n  } catch (error) {\r\n    seterror(error);\r\n  }\r\n  \r\n };\r\n\r\n const getStories = async () => {\r\n    setloading(true);\r\n  try {\r\n    const { data: storyIds } = await axios.get(`${url}/topstories.json`);\r\n    const stories = await Promise.all(storyIds.slice(0, 30).map(getStory));\r\n    settopstories(stories);\r\n  } catch (error) {\r\n    seterror(error);\r\n  }\r\n  setloading(false);\r\n };\r\n\r\n\r\n\r\n useEffect(()=>{\r\n    getStories()\r\n  },[]);\r\n\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    \r\n    \r\n<div>\r\n{loading ? (\r\n\t\t\t\t<ReactPaginate\r\n\t\t\t\t\tpageCount={pagecount}\r\n\t\t\t\t\tpageRange={2}\r\n\t\t\t\t\tmarginPagesDisplayed={2}\r\n\t\t\t\t\tonPageChange={handlePageChange}\r\n\t\t\t\t\tcontainerClassName={'container'}\r\n\t\t\t\t\tpreviousLinkClassName={'page'}\r\n\t\t\t\t\tbreakClassName={'page'}\r\n\t\t\t\t\tnextLinkClassName={'page'}\r\n\t\t\t\t\tpageClassName={'page'}\r\n\t\t\t\t\tdisabledClassNae={'disabled'}\r\n\t\t\t\t\tactiveClassName={'active'}\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t<div>Nothing to display</div>\r\n\t\t\t)} \r\n        </div>\r\n\r\n\r\n    \r\n  )\r\n}\r\n\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,gBAA1B;AAEA,OAAO,YAAP;AACA,SAASC,uBAAT,QAAwC,WAAxC;;AAIA,OAAQ,MAAMC,UAAU,GAAG,MAAM;EAAA;;EAC/B,MAAMC,GAAG,GAAG,uCAAZ;EAIA,MAAM,CAACC,UAAD,EAAaC,aAAb,IAA4BP,QAAQ,CAAC,EAAD,CAA1C;EACA,MAAM,CAACQ,OAAD,EAAUC,UAAV,IAAsBT,QAAQ,CAAC,KAAD,CAApC;EACA,MAAM,CAACU,KAAD,EAAOC,QAAP,IAAiBX,QAAQ,CAAC,IAAD,CAA/B;EACA,MAAM,CAACY,SAAD,EAAYC,YAAZ,IAA0Bb,QAAQ,CAAC,CAAD,CAAxC;EAEA,MAAM,CAACc,WAAD,EAAcC,cAAd,IAAgCf,QAAQ,CAAC,CAAD,CAA9C;;EACA,MAAMgB,gBAAgB,GAAIC,cAAD,IAAoB;IAC7CF,cAAc,CAACE,cAAc,CAACC,QAAhB,CAAd;IACAC,UAAU;EAET,CAJD;;EAMD,MAAMC,QAAQ,GAAG,MAAOC,EAAP,IAAc;IAG9B,IAAI;MACF,MAAMC,KAAK,GAAG,MAAMrB,KAAK,CAACsB,GAAN,CAAW,GAAElB,GAAI,SAAQgB,EAAG,OAA5B,CAApB;MACA,OAAOC,KAAP;IACD,CAHD,CAGE,OAAOZ,KAAP,EAAc;MACdC,QAAQ,CAACD,KAAD,CAAR;IACD;EAED,CAVD;;EAYA,MAAMS,UAAU,GAAG,YAAY;IAC5BV,UAAU,CAAC,IAAD,CAAV;;IACF,IAAI;MACF,MAAM;QAAEe,IAAI,EAAEC;MAAR,IAAqB,MAAMxB,KAAK,CAACsB,GAAN,CAAW,GAAElB,GAAI,kBAAjB,CAAjC;MACA,MAAMqB,OAAO,GAAG,MAAMC,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACI,KAAT,CAAe,CAAf,EAAkB,EAAlB,EAAsBC,GAAtB,CAA0BV,QAA1B,CAAZ,CAAtB;MACAb,aAAa,CAACmB,OAAD,CAAb;IACD,CAJD,CAIE,OAAOhB,KAAP,EAAc;MACdC,QAAQ,CAACD,KAAD,CAAR;IACD;;IACDD,UAAU,CAAC,KAAD,CAAV;EACA,CAVD;;EAcAV,SAAS,CAAC,MAAI;IACXoB,UAAU;EACX,CAFO,EAEN,EAFM,CAAT;EASC,oBAGF;IAAA,UACCX,OAAO,gBACJ,QAAC,aAAD;MACC,SAAS,EAAEI,SADZ;MAEC,SAAS,EAAE,CAFZ;MAGC,oBAAoB,EAAE,CAHvB;MAIC,YAAY,EAAEI,gBAJf;MAKC,kBAAkB,EAAE,WALrB;MAMC,qBAAqB,EAAE,MANxB;MAOC,cAAc,EAAE,MAPjB;MAQC,iBAAiB,EAAE,MARpB;MASC,aAAa,EAAE,MAThB;MAUC,gBAAgB,EAAE,UAVnB;MAWC,eAAe,EAAE;IAXlB;MAAA;MAAA;MAAA;IAAA,QADI,gBAeJ;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAhBJ;IAAA;IAAA;IAAA;EAAA,QAHE;AA0BD,CA9EO;;GAAMZ,U;;KAAAA,U"},"metadata":{},"sourceType":"module"}